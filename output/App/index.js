// Generated by purs version 0.13.6
"use strict";
var Control_Bind = require("../Control.Bind/index.js");
var Control_Monad_Reader_Trans = require("../Control.Monad.Reader.Trans/index.js");
var Data_Identity = require("../Data.Identity/index.js");
var Data_Symbol = require("../Data.Symbol/index.js");
var Impulse_DOM_API = require("../Impulse.DOM.API/index.js");
var Impulse_DOM_Util = require("../Impulse.DOM.Util/index.js");
var Impulse_FRP_Event = require("../Impulse.FRP.Event/index.js");
var p_route = Data_Symbol.SProxy.value;
var p_navigate = Data_Symbol.SProxy.value;
var mkAppEnv = function (s_route) {
    return function (pushRoute) {
        return {
            s_route: s_route,
            pushRoute: pushRoute
        };
    };
};
var mkApp = function (v) {
    return function (app) {
        return Impulse_DOM_API.e_collect(new Data_Symbol.IsSymbol(function () {
            return "navigate";
        }))()()()()(p_navigate)(function (e_route) {
            return Control_Bind.bind(Control_Monad_Reader_Trans.bindReaderT(Data_Identity.bindIdentity))(Impulse_DOM_API["_eff"](Impulse_FRP_Event.consume(v.pushRoute)(e_route)))(function () {
                return Impulse_DOM_Util.upsertEnv(new Data_Symbol.IsSymbol(function () {
                    return "route";
                }))()()()()(p_route)(v.s_route)(app);
            });
        });
    };
};
module.exports = {
    p_navigate: p_navigate,
    p_route: p_route,
    mkAppEnv: mkAppEnv,
    mkApp: mkApp
};
